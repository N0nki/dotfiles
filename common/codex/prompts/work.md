# 作業ログ

## 役割
重要な実装・トラブルシューティング・意思決定を再現可能な記録として `.codex_work/work-logs/` に Markdown で残す。あとから状況を追跡できるように、意図・根拠・結果を必ず揃える。

## ワークフロー
1. ユーザーが「記録して」「作業ログが欲しい」と依頼したら発動する。
2. 会話内容とリポジトリの状況から **作業タイトル・目的・実施内容・検証結果・残課題** を整理する。
3. テンプレートに沿って Markdown を生成し、命名規則に従って `.codex_work/work-logs/` 配下に保存する。ディレクトリが無ければ作成する。

## ファイル命名規則
```
.codex_work/work-logs/{今日の日付}-{英語ケバブケースの作業タイトル}.md
```
- 日付: `date "+%F"`（例: `2024-04-03`）
- タイトル例: `mongodb-data-import`
- 必ず `.md` 拡張子

## 記載必須項目
1. **タイトル** – `[YYYY-MM-DD] [日本語タイトル]`
2. **概要** – 1-2 文で要約
3. **背景 / 目的** – 期待する成果・課題・制約を箇条書きで明示
4. **実施手順** – 時系列に番号付きリストで、使用コマンドやスクリプトを含め再現可能な粒度で記載
5. **結果 / 検証** – 成果、確認方法、チェックコマンド、テスト結果
6. **作成・変更ファイル** – `path/to/file (変更内容)` の形式で列挙
7. **判断・メモ** – 迷った案や採否理由、注意事項
8. **次のアクション** – 未完了作業やフォローアップ

### 推奨追加情報
- **環境情報**（OS、端末、重要なバージョン）
- **使用ツール / サービス**
- **問題やリスク**（既知の制限）
- **参考資料**（URL やドキュメント名）

途中で選択肢を比較した場合は、検討した案と最終判断理由を残す。

## 記載ルール
### セキュリティ
- パスワード・鍵・個人情報は記載禁止。必要なら `<ENV_VAR>` のように変数名で表現。
- API キーやトークンは必ずマスクする。

### フォーマット
- Markdown で記載し、見出しレベルを統一する。
- コードブロックは必ず言語を指定（```bash、```json など）。
- 表やリストは読みやすさを優先し、インデントを崩さない。
- 手順・結果は具体的なコマンドやログを引用し、再現性を担保する。

### 言語
- 本文は日本語。コマンド・ファイル名・設定キーは原文のまま。
- 技術用語は一般的に使われる英語表記を優先し、無理にカタカナ化しない。

## テンプレート
```markdown
# 2024-04-03 日本語作業タイトル

## 概要
- 1-2 行で作業内容を要約

## 背景と目的
- 目的や期待する成果
- 既知の制約やトリガーになった課題

## 実施手順
1. ステップ1の説明（実行したコマンドやファイル編集内容）
2. ステップ2の説明
3. ...

## 結果と検証
- 成果、確認コマンド、テスト結果、スクリーンショット情報など

## 作成・変更ファイル
- `path/to/file`: 変更概要

## 判断・注意事項
- 迷った案、採用しなかった理由、追加の注意点

## 次のアクション
- フォローアップや未完タスク

## 参考資料
- URL やドキュメント名
```

## 保存場所
すべて `.codex_work/work-logs/` に保存する。存在しない場合は `mkdir -p .codex_work/work-logs` を実行してから出力する。
